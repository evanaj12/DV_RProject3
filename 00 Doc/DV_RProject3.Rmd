---
title: "DV_RProject3"
output: html_document
---

Natasha Halfin, Evan Johnston, Kaylyn Zvonek

For this project, we used a dataset containing information on the climates in major US cities including Nashville, Austin, and Seattle. 

```{r, echo=TRUE}
library("ggplot2")
library("gplots")
library("bitops")
library("knitr")
library("jsonlite")
library("ggthemes")
library("RCurl")
library("reshape2")
library("tidyr")
library("dplyr")
```

```{r, eval = TRUE, echo=TRUE}
source("../01 Data/climate_data.R")
source("../02 Data Wrangling/data_wranglings1.R")
```

These are our 3 climate tables from data on Austin, Nashville, and Seattle.

We chose these 3 cities because its interesting to know about local weather and at least one of us has lived in each city. 

We added 2 columns to our data frames: Season and City. Season is based on the date column and City is based on the table name. 

The value -9999 represents a null value. 

```{r, eval =TRUE, echo=TRUE}
data.frame(head(austin_data))
data.frame(head(nash_data))
data.frame(head(seat_data))

```

Here is our data dictionary which explains our climate codes. 

PRCP= Precipitation   
SNOW = Snowfall   
SNWD = Snow depth   
TMAX = Maximum temperature   
TMIN = Minimum temperature   
AWND = Average daily wind speed (tenths of meters per second)   
DAPR = Number of days included in the multiday precipitation total (MDPR)   
PGTM = Peak gust time (hours and minutes, i.e., HHMM)   
PSUN = Daily percent of possible sunshine (percent)   
TOBS = Temperature at the time of observation ***   
TSUN = Daily total sunshine (minutes)   
WDF2 = Direction of fastest 2-minute wind (degrees)   
WDF5 = Direction of fastest 5-second wind (degrees)   
WESD = Water equivalent of snow on the ground (tenths of mm)   
WESF = Water equivalent of snowfall (tenths of mm)   
WSF2 = Fastest 2-minute wind speed (tenths of meters per second)   
WSF5 = Fastest 5-second wind speed (tenths of meters per second)   
WSFG = Peak guest wind speed (tenths of meters per second)   
WSFI = Highest instantaneous wind speed (tenths of meters per second)   
WSFM = Fastest mile wind speed (tenths of meters per second)   
WT01 = Fog, ice fog, or freezing fog (may include heavy fog)   
WT02 = Heavy fog or heaving freezing fog (not always distinguished from fog)   
WT03 = Thunder   
WT04 = Ice pellets, sleet, snow pellets, or small hail   
WT05 = Hail (may include small hail)   
WT06 = Glaze or rime    
WT08 = Smoke or haze   
WT11 = High or damaging winds    
WT13 = Mist    
WT14 = Drizzle   
WT16 = Rain (may include freezing rain, drizzle, and freezing drizzle)   
WT17 = Freezing rain  
WT18 = Snow, snow pellets, snow grains, or ice crystals   
WT19 = Unknown source of precipitation   
WT22 = Ice fog or freezing fog   

We filtered by dates in each table to create the season variable values. Then we bound the new rows to the season column in each table 
 

This allowed us to create an inner join that finds the average precipitation by Season of each city. 
```{r, eval =TRUE, echo=TRUE}
data.frame(SEASON_InnerJoin)
```

This inner joined dataframe displays the max precipitation of each city by date with a join on date.
```{r, eval =TRUE, echo=TRUE}
data.frame(head(prcp_InnerJoin))
```

This left outer join finds the min and max recorded temperatures for Seattle and Nashville by date. 

```{r, eval =TRUE, echo=TRUE}
data.frame(head(nash_seatTEMP))
```

```
**Data Visualizations**

```{r, eval = TRUE, echo=TRUE}
source("../03 Visualizations/practice_viz.R")

```
**Max Temp per City**
The first plot shows the maxium temperature over time by city without null values.

```{r, eval =TRUE, echo=TRUE}
plot(g1,vp=viewport(layout.pos.row=1,layout.pos.col=1))

```
**Max Temp by Season**
This second plot shows the temperature range by Season of each city. The violin plot is an interesting way to show the variation in temperature per season. Interestingly Fall and Spring tend to have a much wider range of temperatures than Summer and Fall.

```{r, eval =TRUE, echo=TRUE}
print(g2,vp=viewport(layout.pos.row=2,layout.pos.col=1))

```